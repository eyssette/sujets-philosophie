var rows,title,content,table_start,table_end,table_content,table_header,table_body;table_start="<table>",table_header="<thead><tr><th>Intitulé du sujet</th></tr></thead>",table_end="</table>",Papa.parse("https://raw.githubusercontent.com/eyssette/sujets-philosophie/main/data/sujets-vrac.tsv",{download:!0,header:!1,delimiter:"    ",complete:function(e){rows=(rows=e.data).splice(1,rows.length),table_body="<tbody>",rows.forEach(e=>{recherche=document.getElementById("recherche_dans_le_sujet").value,cell=e[0],window.location.hash.slice(1)&&(search_items=window.location.hash.slice(1).split("+"),pattern="",search_items.forEach(e=>{pattern=pattern+"(?=.*"+e+")"}),regex=new RegExp(pattern,"i")),window.location.hash.slice(1)&&!cell.toString().match(regex)||(table_body=(table_body+="<tr>")+"<td>"+cell+"</td>",table_body+="</tr>")}),content=table_start+table_header+(table_body+="</tbody>")+table_end,document.getElementById("content").innerHTML=content}});var input=document.getElementById("recherche_dans_le_sujet");input.oninput=handleInput;var case_avec_question=document.getElementById("sujets_avec_question"),case_sans_question=document.getElementById("sujets_sans_question");function handleInput(e){var t=input.value;this.timer&&window.clearTimeout(this.timer),this.timer=window.setTimeout(function(){search_items=t.split("+"),pattern="",search_items.forEach(e=>{pattern=pattern+"(?=.*"+e+")"}),case_avec_question.checked&&(pattern+="(?=.*\\?$)"),case_sans_question.checked&&(pattern+="(?=.*([A-zÀ-ÿ]|»|\\)|[0-9]|!|>)$)"),regex=new RegExp(pattern,"i"),table_body="<tbody>",rows.forEach(e=>{cell=e[0],cell.toString().match(regex)&&(table_body=(table_body+="<tr>")+"<td>"+cell+"</td>",table_body+="</tr>")}),content=table_start+table_header+(table_body+="</tbody>")+table_end,document.getElementById("content").innerHTML=content},200)}function delay(e,t){let n=0;return function(...a){clearTimeout(n),n=setTimeout(e.bind(this,...a),t||0)}}case_avec_question.onclick=handleInput,case_sans_question.onclick=handleInput;